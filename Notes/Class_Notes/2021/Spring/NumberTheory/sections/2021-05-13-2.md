# Ch. 17: Dedekind-Kummer (Thursday, May 13)

:::{.remark}
Big theorem, Dedekind-Kummer: we have a factorization of $p$ for all but finitely many primes $p$.
e supposed that $p \notdivides [\ZZ_K: \ZZ[ \alpha] ]$, and there are only finitely many $p$ that violate this condition.
The claim was that if $\min_\alpha(x)$ factors into distinct irreducibles $p_i(x)$ in $\FF_p[x]$, then setting $P_i \da \gens{ p, p_i( \alpha) }$.
Then there is a factorization of ideals \( \gens{ p } = \prod P_i^{e_i}  \) mirroring the factorization of the minimal polynomial.

We had a lemma that under these hypotheses, the inclusion $\iota: \ZZ[ \alpha] \injects \ZZ_K$ induces an isomorphism on quotients
\[
\ZZ[ \alpha] / p \ZZ[ \alpha] \mapsvia{\sim} \ZZ_K / p\ZZ_K
.\]
So mod $p$, these two are the same.
:::

:::{.proof title="of Dedekind-Kummer"}
For notation, set $m(x) \da \min_ \alpha(x)$.
By assumption, we have a factorization $m(x) = \prod_{i=1}^g p_i(x)^{e_i} \mod p$, and we set $P_i \gens{ p, p_i( g a) }$. 
We'll first show that the $P_i$ are prime ideals by modding to get a domain, and we'll compute residue degrees.
Considering 
\[
\ZZ_K/ P_i 
&= \ZZ_K / \gens{ p, p_i( \alpha) } \\
&\cong (\ZZ_k / \gens{ p } )/ \gens{ p_i( \alpha) \mod p }\\
&\cong (\ZZ[ \alpha] / \gens{ p } )/ \gens{ p_i( \alpha) \mod p }\\
&\cong \ZZ[ \alpha] / \gens{ p, p_i( \alpha) } \\
&\cong ( \ZZ[x] / \gens{ m(x) } ) / \gens{ p \mod m(x), p_i(x) \mod m(x) } \\
&\cong ( \ZZ[ \alpha] / \gens{ p } ) / \gens{ m(x) \mod p, p_i(x) \mod p } 
&\cong \FF_p[x] / \gens{ p_i(x) \mod p } 
.\] 
where we've used that $p_i(x) \divides m(x)$ mod $p$ by assumption.
This is a field of size $p^{\deg p_i(x)}$, which proves that $P_i$ is prime of degree is $f(P_i / p) = \deg p_i(x)$.

We'll now show the $P_i$ are distinct, and in fact comaximal in the sense that $P_i + P_j = \gens{ 1 }$ for $i\neq j$.
We've assumed that $p_i(x) \mod p, p_j(x) \mod p \in \FF_p[x]$ are distinct monic irreducibles in the PID $\FF_p[x]$, so we can find a linear combination equal to $1$.
So write $p_i(x) X(x) + p_j(x) Y(x) = 1 + pQ(x)$ for some polynomials $X,Y\in \FF_p[x]$ and $Q\in \ZZ[ x]$.
Plug in \( \alpha \) and mod out by \( I \da \gens{ p, p_i( \alpha), p_j( \alpha) }  \) to get $o \equiv 1 \mod I$.
But then $1\in I$ forces $I = \gens{ 1 }$ 
Thus
\[
\gens{ 1 } 
&= \gens{ p, p_i( \alpha), p_j( \alpha) } \\
&= \gens{ p, p_i ( \alpha) }+ \gens{ p, p_j( \alpha) } \\
&= P_i + P_j
.\]

It remains to show that \( \gens{ p }= \prod P_i^{e_i}  \).
Consider taking powers of $P_i$:
\[
P_i^2 = \gens{ p^2,  p_i( \alpha), p_i(\alpha)^2 } 
\subseteq \gens{ p, p_i( \alpha) ^2 }  \\
P_i^3 \subseteq P_i \gens{ p_i, p_i (\alpha)^2} \subseteq \gens{ p_i, p_I( \alpha)^3 }  
.\]
Repeating this will show that \( P_i^{e_i} \subseteq \gens{ p, p_i( \alpha)^{e_i} }  \).
A similar argument will show
\[
\prod P_i^{e_i}
\subseteq 
\prod \gens{ p, p_i( \alpha)^{e_i}  } \\\
\subseteq \gens{ p, \prod p_i (\alpha) ^{e_i} } 
.\]
Recall that we can write $m(x) = \prod p_i(x)^{e_i} + pR(x)$ where $R \in \ZZ[x]$.
Plugging in $\alpha$ yields $0 \equiv \prod p_i( \alpha)^{e_i} \mod p$, so the right-hand side is a multiple of $p$, making the ideal above redundant.
Thus \( \prod P_i^{e_i} \subseteq \gens{ p }  \), and since to contain is to divide, we can write
\[
\prod P_i^{e_i} = \gens{ p }J
,\]
and we want to show $J = \gens{ 1 }$. 

Strategy: take norms.
We know $N(p_i)^{e_i} = p^{e_i \deg p_i}$, and so 
\[
N\qty{ \prod P_i^{e_i} }
&= \prod N(P_i) ^{e_i} \\
&= p^{\sum e_i \deg p_i} \\
&= p^{\deg m(x)} \\
&= p^{[K: \QQ] }
.\]

We also have $N( \gens{ p } ) = \# \ZZ_k / \gens{ p }= p^{[K: \QQ]}$, which forces $N(J) = 1$
:::

:::{.remark}
An recurring example in this class, due to Dedekind: let $K = \QQ( \alpha)$ where \( \alpha \) is a root of the irreducible polynomial $x^3 +x^2 -2x + 8 \in \QQ[x]$.
We saw that $\ZZ_K \neq \ZZ[ \alpha]$ but their index divides 2, forcing it to be exactly 2.
So the hypothesis of the Dedkind-Kummer theorem are not satisfied, but is the conclusion still true?
It turns out that the answer is no, and 2 splits completely as \( \gens{ 2 } = P_1 P_2 P_3  \).
The proof can be done bare-hands, we won't do it here.
This is incompatible with the conclusion of the theorem: we would need the polynomial to factor into three monic linear polynomials mod 2.
But there are only 2 different linear polynomials mod 2!
:::

:::{.remark}
Every ideal in $\ZZ_K$ can be generated by at most 2 elements.
Or really, "$3/2$" elements -- look it up!
:::

# Ch. 18: Units of $\ZZ_K$

:::{.remark}
Setting up some notation: let $K$ be a number field of degree $n$, and let

- $r_1$ be the number of real embeddings, i.e. their images are contained in $\RR$,
- $r_2$ be *half* the number of non-real embeddings, since they come in pairs by composing with complex conjugation.

Note that $n = r_1 + 2r_2$.
Label the real embeddings $\sigma_1, \cdots, \sigma_{r_1}$, and $\sigma_{r_1+1}, \cdots, \sigma_{r_1 + r_2}$ a set of non-real embeddings, where we take one such nonreal embedding from each pair.
:::

:::{.question}
What is the structure of $\ZZ_K\units$?
:::

:::{.remark}
For imaginary quadratic fields, the units were norm 1 in the ring of integers.
Usually there were just 2, $\pm 1$, and in $\ZZ[i]$ there were 4, and $\QQ( \sqrt{-3} )$ there were 6.
All of these formed cyclic groups.

For real quadratic fields, there was a fundamental unit $u$ of infinite order, and all units were $\pm u$, so the group is abstractly $\ZZ \cross \ZZ/2$.
So everything was a root of unity times a power of the fundamental unit.

Define
\[
\mu_K = \ts{ \zeta\in K \st \zeta^n = 1 \text{ for some } n\in \ZZ^{> 0} } 
.\]
Clearly $\mu_K \subseteq K\units$, and in fact $\mu_k \subseteq  \bar{\ZZ}$.
In fact, it forms a subgroup $\mu_K \leq \ZZ_k\units$.
The big theorem on the structure of units is the following, which says the same thing as the real quadratic field case happens in general, just with more fundamental units.
:::

:::{.theorem title="Dirichlet's Units Theorem"}
There are elements $\eps_1, \cdots, \eps_{r_1 + r_2 - 1} \in \ZZ_K\units$ of infinite order such that $\ZZ_K\units = \mu_K \prod_{i=1}^{r_1 + r_2 - 1} \gens{ \eps_i }$ as an internal direct product.
So every unit has a unique decomposition of this form.

Moreover, $\# \mu_K < \infty$.
:::

:::{.example title="?"}
When is $\ZZ_K\units$ finite?
This happens iff $r_1 + r_2 = 1$, and there are a few cases:

- $r_1=1, r_2=0$, and since $n=r_1 + 2r_2 = 1$, this forces $K = \QQ$.
- $r_1 = 0, r_2 = 1 \iff n=2$, so this is a quadratic field with no real embeddings, so $K$ is an imaginary quadratic field.
:::

:::{.remark}
Our goal will be to prove the units theorem with *some* number $g$, and we'll show in the next chapter that $g = r_1 + r_2 - 1$ is the right $g$ to choose.

An outline of the proof:

- Define a homomorphism 
\[
\Log: K\units &\to \RR^{r_1 + r_2} \\
\alpha &\mapsto \tv{ 
\log\abs{\sigma_1( \alpha) }, 
\cdots,
\log\abs{\sigma_{r_1}( \alpha) }, 
2\log\abs{\sigma_{r_1+1}( \alpha) }, 
\cdots
2\log\abs{\sigma_{r_1+r_2}( \alpha) }, 
}
.\]
  We'll mostly consider its restriction to $\ZZ_K\units$.

- Prove $\ker \ro{\Log}{\ZZ_K\units} = \mu_K$ and is finite.

- Prove $\Log(\ZZ_K)$ is a discrete subgroup of $\RR^{r_1 + r_2}$.

- Use the fact that such discrete subgroups are lattices.

- Prove the units theorem with $g$ defined as the rank of this lattice.

- Finally prove the rank $g$ is equal to $r_1 + r_2 - 1$.
:::

:::{.lemma title="?"}
Let $M\in \RR^{>0}$ and let $\alpha \in \ZZ_K$.
If for all embeddings $\sigma: K\embeds \CC$ we have bounds $\abs{\sigma( \alpha)} \leq M$, then $\alpha$ is a root of a polynomial in 
\[
P_{n,m}
\da
\ts{ x^n + a_{n-1} x^{n-1} + \cdots + a_1 x + a_0 \in \ZZ[x] \st \abs{a_i} \leq {n\choose i} M^{n-i} } 
.\]
Note that this is a finite set.
:::

:::{.proof title="?"}
Note that $\alpha$ is a root of its **field polynomial**
\[
f(x) \da \prod_{\sigma: K \embeds \CC} (x - \sigma( \alpha))
.\]
Since \( \alpha \in \ZZ_K\), this polynomial $f \in \ZZ[x]$.
So it suffices to show that $f\in P_{n, m}$.
It's degree $n$, the coefficients are integers, but why do they satisfying the bound?
Expanding the multiplication, there are ${n\choose i}$ prducts each of which involves $n-i$ of the $\sigma_i( \alpha)$, which is bounded.



:::

:::{.remark}
We'll first show the kernel of $\Log$ is finite, then it'll be easy to see it's $\mu_K$.
:::

:::{.proposition title="?"}
\[
\# \ker \ro{ \Log}{\ZZ_K\units} < \infty 
.\]
:::

:::{.proof title="?"}
Suppose \( \alpha\in \ZZ_K\units \) and $\Log(\alpha) = \vector 0$.
This says that \( \abs{ \sigma_i( \alpha)} = 1\) for all embeddings $\sigma_i: K\embeds \CC$.
Applying the lemma above with $M=1$, $\alpha$ is a root of a polynomials in $P_{n, 1}$, each of which has at most $n$ roots.
So there are only finitely many possibilities for $\alpha$.
:::

:::{.proposition title="?"}
\[
\ker \ro{ \Log}{\ZZ_K\units} = \mu_K
.\]
:::

:::{.proof title="?"}
Start with $\zeta\in \mu_K$, then under any $\sigma$, $\sigma(\zeta)$ is a complex root of unity.
So $\abs{\sigma(\zeta)} = 1$, and by the previous result, $\Log(\zeta) = \vector 0$.
So $\mu_K \subseteq \ker \Log$.

Conversely suppose $\zeta\in \ker \Log$, which in particular is a group.
Suppose $\# \ker \Log = n$, since we know it's finite.
Then $\xi^n = e = 1$ in this group, making it an $n$th root of unity.
:::

:::{.remark}
Note that $\mu_K$ is always cyclic
This follows because for $K$ a field, it's an exercise that any finite subgroup $H\leq \GG_m(K)$, it is always cyclic.
So we've written $\ZZ_K = C_q \times \ZZ^{r_1 + r_2 - 1}$ as an abstract group.
:::














