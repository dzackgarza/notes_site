# Wednesday April 1st

Let $M$ be a finitely generated $R\dash$module, then we define a rank function
\begin{align*}
\rk_M: \spec R \to \NN \\
\mfp \mapsto \dim_{k(\mfp)} M \tensor_R k(\mfp)
\end{align*}
where $k(\mfp) = ff(R/\mfp)$.

Question:
If $\mfp_1 \subset \mfp_2$, how do the ranks compare?

Example:
Take $R = \ZZ$ and $M = \ZZ \oplus \ZZ/(10)$, then take $(0) \subseteq (p)$.
Then $\rk_M((0)) = \dim_\QQ M \tensor_\ZZ \QQ = 1$.
However,
\begin{align*}
\rk_M((p)) = \begin{cases}
2 & p=2,5 \\
1 & \text{else}
\end{cases}
.\end{align*}

If $M$ is locally free, e.g. projective, and $\mfp_1 \subseteq \mfp_2$ then $M_{\mfp_1} = M_{\mfp_2} \tensor_{R_{\mfp_2}} R_{\mfp_1}$ is a canonical isomorphism.
Then
\begin{align*}
R_{\mfp_1}^{\rk \mfp_1} = M_{\mfp_1} = M_{\mfp_2} \tensor_{R_{\mfp_2}}
= R^{\rk \mfp_2}_{\mfp_2} \tensor R_{\mfp_1} \cong R_{\mfp_1}^{\rk \mfp_2}
.\end{align*}

Thus $\rk(\mfp_1) = \rk(\mfp_2)$.
In other words, tensor to the fraction field and take the dimension.

Proposition (FG Projective of Rank N Generated by N Elements)
: If $M$ is finitely generated projective of constant rank $n$ then $M$ is free $\iff M$ can be generated by $n$ elements.

Lemma
: If $M$ is finitely generated projective and $I \in \mcj(R)$, then $M/IM$ free implies $M$ is free.

> Nakayama: "finite generators in quotient" lifts to finite generators in total module.

Proof
:   $M/IM \cong(R/I)^n$ since it's finitely generated and free, so this fits the hypothesis of Nakayama's lemma.
    So the last number of generators for $M$ is $n$.
    Then for any $\mfm \in \maxspec R$, then after base change we get a diagram
    \begin{center}
    \begin{tikzcd}
    \mfm \ar[r]\ar[rd] & M/IM \ar[d, "\surjects"] \\
    & M/\mfm M
    \end{tikzcd}
    \end{center}

    Since $M/\mfm M$ is free of finite rank $n$, ???????.


Corollary (FG Projective Over Semilocal Implies Free iff Constant Rank)
: If $R$ is *semilocal* and $M$ is a finitely generated projective module, then $M$ is free $\iff \rk_M$ is constant.

Proof
:   $\implies$: We know free modules have constant rank function.

    $\impliedby$: $\maxspec R = \theset{\mfm_1, \cdots, \mfm_n}$, and $\mcj(R) = \intersect_{i=1}^n \mfm_i = \prod_{i=1}^n \mfm_i$.
    Thus $R/\mcf(R) = \prod_{i=1}^n R/\mfm_i$, and $M / \mcj(R) M \cong \prod_{i=1}^n M/\mfm_i M$.
    So we just need to show that the dimension is independent of $i$.
    But this follows from the rank function being constant, since the rank equals the dimension for each factor.

Proposition (Flatness is Local)
: For $M$ an $R\dash$module, then $M$ is flat $\iff M_\mfp$ is flat for all $\mfp\in\spec R \iff M_\mfm$ is flat for all $\mfm \in \maxspec R$.

> Noetherian: f.g. projective iff locally free.

Theorem (7.2, Extremely Important: FG Projective iff FG by Localizations)
:   For an $R\dash$module $M$, TFAE

    - $M$ is finitely generated and projective
    - $M$ is finitely presented and locally free
    - There exist $f_1, \cdots, f_n \in R$ such that $\gens{f_1, \cdots, f_n} = R$ and for all $1\leq i \leq n$, $M_{f_i}$ is a free $R_{f_i}\dash$module.

> Here $M_{f_i}$ means localize at the powers of $f_i$, i.e. $M \tensor R_{f_i}$.

Corollary
:   \hfill
    - Finitely generated and flat implies projective.
    - For $M$ finitely generated and $R$ Noetherian, projective $\iff$ locally free $\iff$ flat (important!)

A module $M$ is $Z\dash$locally free (Zariski) iff there exists elements $f_i\in R$ such that $\gens{f_i} = R$ and $M_{f_i}$ is free for all $i$.
Note that $Z\dash$locally free implies locally free.

Example:
$R = \prod_{i=1}^\infty \FF_2$ and let $I\normal R$ not be finitely generated.
Note that $R$ is not Noetherian since it's an infinite product of nonzero rings -- just identify as functions $\FF_2^\ZZ$ and take the maximal ideal where the first coordinate is zero (?).
Then $R/I$ is an $R\dash$module is finitely generated and flat (even though $R$ isn't a domain) but not projective, locally free but not $Z\dash$locally free.
Thus the conditions in the hypotheses of the corollary are necessary, particularly being Noetherian.

## Chapter 8: Noetherian Rings

For $(X, \leq)$ a poset, then $X$ is *Noetherian* iff it satisfies the ACC, i.e. there does not exist an order-embedding $\ZZ^+ \injects X$, and $X$ is *Artinian* iff it satisfies the DCC, i.e. there's no embedding $\ZZ^- \injects X$.

Note that $X$ is Noetherian iff $X\dual$ is Artinian, where $X\dual$ is given by $x\leq\dual y\iff y\leq x$.
We'll generally be interested in the poset of submodules of a given module and set inclusion.

Recall that $M$ is Noetherian $\iff$ every submodule is finitely generated, which is easy to show.

Exercise
: Show that for $\ZZ\dash$modules, Noetherian and Artinian are two different conditions by exhibiting the 4 possibilities.

Theorem (Artinian iff Noetherian and Primes are Maximal)
: $R$ is Artinian iff $R$ is Noetherian and $\dim R = 0$, i.e. prime ideals are maximal, $\maxspec R = \spec R$.

> So Artinian is much much stronger than Noetherian.
